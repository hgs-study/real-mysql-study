### 풀 테이블 스캔과 풀 인덱스 스캔

- 풀 테이블 스캔(innoDB)
    - innoDB에서는 특정 테이블의 연속된 데이터 페이지가 읽히면 백그라운 스레드에 의해 `리드 어헤드` 작업이 자동으로 시작
    - `리드 어헤드` : 어떤 영역의 데이터가 앞으로 필요해지리라는 것을 예측해서 요청이 오기 전에 미리 디스크에서 읽어 InnoDB의 버퍼 풀에 가져다 두는 것을 의미한다.
    - 즉, 테이블 풀스캔이 실행되면 처음 몇개의 데이터 페이지는 `포그라운드 스레드가 페이지 읽기를 실행하지만 특정 시점부터는 읽기 작업을 백그라운드 스레드`로 넘긴다
    - 백그라운드 스레드가 읽기를 넘겨받는 시점부터는 한 번에 4개 또는 8개씩의 페이지를 읽으면서 계속 그 수를 증가 시킨다. 이때 최대 64개의 데이터 페이지를 읽어서 버퍼풀에 저장한다.
    - 포그라운드 스레드는 미리 버퍼 풀에 준비된 데이터를 가져다 사용하기만 하면 되므로 쿼리가 상당히 빨리 처리되는 것이다.
    - `innodb_read_ahead_threshold` 시스템 변수를 이용해 InnoDB 스토리지 엔진이 언제 리드 어헤드를 시작할 지 임계값을 설정할 수 있다. 포그라운드 스레드에 의해 설정된 개수만큼의 연속된 데이터 페이지가 읽히면 InnoDB 스토리지 엔진은 백그라운드 스레드를 이용해 대량으로 그 다음 페이지들을 읽어서 버퍼 풀로 적재한다.
    
- 풀 인덱스 스캔
    - 인덱스를 처음부터 끝까지 스캔하는 것
    - `리드 어헤드` 동일하게 적용
    
    <br/>
    
    ```sql
    select count(*) from employees;
    ```
    
    - 풀 인덱스 스캔 사용 (테이블 풀스캔을 사용하지 않고)
        - 이유? 컬럼이 더 적은 인덱스를 읽는 것이 모든 컬럼을 가지고 있는 테이블을 스캔하는 것보다 용량이 적어서 더 빠르게 처리 가능
    
    <br/>
    
    ```sql
    select * from employees;
    ```
    
    - 풀 테이블 스캔 사용
        - 이유? 테이블에 있는 레코드가 필요한 쿼리이기 때문에 풀 인덱스 스캔을 활용하지 못하고 풀 테이블 스캔을 사용
