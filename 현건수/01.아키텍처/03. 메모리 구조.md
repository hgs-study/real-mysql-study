## 메모리 구조


<p align="center">
  <img src="https://user-images.githubusercontent.com/76584547/164724294-90353ce2-ff9b-41d1-b131-d51ed04f9703.png">
</p>

### 글로벌 메모리 영역
> 글로벌 메모리 영역의 모든 메모리 공간은 MySQL 서버가 시작되면서 운영체제로부터 할당된다. 요청된 메모리 공간을 100% 할당해줄 수동 있고, 그 공간만큼 예약해두고 필요할 때 조금씩 할당해주는 경우도 있다. 그냥 단순하게 MySQL의 시스템 변수로 설정해 둔 만큼 운영체제로부터 메모리를 할당받는다고 생각하면 된다.

+ 일반적으로 클라이언트 스레드의 수와 무관하게 하나의 메모리 공간만 할당
+ 클라이언트 스레드 수와는 무관하며, 생성된 글로벌 영역이 N개라고 하더라도 `모든 스레드에 의해 공유`된다.

#### 대표적인 글로벌 메모리 영역
+ 테이블 캐시
+ InnoDB 버퍼 풀
+ InnoDB 어댑티브 해시 인덱스
+ InnoDB 리두 로그 버퍼 

<br>

### 로컬 메모리 영역
+ 클라이언트와 MySQL 서버와의 커넥션을 `세션`이라고 하기 때문에`세션(커넥션) 메모리 영역`
+ 또는 클라이언트 스레드가 사용하는 메모리 공간이라고 해서 `클라이언트 메모리 영역`이라고도 표현한다.

#### 특징
+ 로컬 메모리는 각 클라이언트 스레드별로 독립적으로 할당되며 `절대 공유되어 사용되지 않는` 특징이 있다.
+ 적절한 메모리 공간을 설중하는 것이 중요하다.
+ 커넥션이 열려 있는 동안 계속 할당된 상태로 남아 있는 공간 `커넥션 버퍼`나 `결과 버퍼`
+ 쿼리를 실행하는 순간에만 할당했다가 다시 해제하는 공간 `소트 버퍼`나 `조인 버퍼`

#### 대표적인 로컬 메모리 영역
+ 정렬 버퍼(Sort Buffer)
+ 조인 버퍼
+ 바이너리 로그 캐시
+ 네트워크 버퍼
